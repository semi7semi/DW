{% extends "base.html" %}
{% block title %}{% endblock title %}
{% block content %}
<div class="dashboard-header m-2 p-2">
    <div class="dashboard-menu">
        <div class="menu-item">
            {% if request.user.is_authenticated %}
            <div class="nav nav-pills nav-justified">
                <a class="nav-link btn-color" href="{% url 'result' %}">Dodaj wynik</a>
            </div>
            {% endif %}
        </div>
        <div class="menu-item">
            {% if request.user.is_authenticated %}
            <div class="nav nav-pills nav-justified">
                <a class="nav-link btn-color-excel"
                   href="https://drive.google.com/file/d/1uVOaH1UD0JWOciopjKO85SbIDS6wBgDH/view?usp=sharing">Excel
                    ligowy</a>
            </div>
            {% endif %}
        </div>
    </div>
    <div class=dashboard-alerts">
        <h4>Rankingi</h4>
        <div class="row">
            <div class="nav flex-column nav-pills m-2">
                <a class="nav-link btn-color-grey disabled" href="{% url 'main' %}">2022</a>
            </div>
            <div class="nav flex-column nav-pills m-2">
                <a class="nav-link btn-color" href="{% url 'main-2021' %}">2021</a>
            </div>
            <div class="nav flex-column nav-pills m-2">
                <a class="nav-link btn-color" href="{% url 'main-2020' %}">2020</a>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col">
    <div class="m-2 p-4 border-dashed">
        <h2 class="dashboard-content-title">
            <span>Ranking Wałeczków sezon 2022 - Mastery</span>
        </h2>
        <table class="table css-serial">
            <thead>
            <tr>
                <th>Ksywka</th>
                <th>Points</th>
                <th>Wins</th>
                <th>Losses</th>
                <th>Draws</th>
                <th>Winrate</th>
                <th>Games</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            {% for user in result_master %}
            <tr>
                <td><a class="user-color" href="{% url 'user-details' user.1 %} ">{{ user.2.username }}</a></td>
                <td><strong>{{ user.3 }}</strong></td>
                <td><strong style="color: green">{{ user.4 }}</strong></td>
                <td><strong style="color: red">{{ user.5 }}</strong></td>
                <td><strong style="color: #e68a00">{{ user.6 }}</strong></td>
                <td><strong>{{ user.0|floatformat:"0" }} %</strong></td>
                <td><strong>{{ user.7 }}</strong></td>
<!--                {% if user.15 == best_gen_id %}-->
<!--                <td class="icon icon-gen d-flex"></td>-->
<!--                {% endif %}-->
<!--                {% if user.15 == best_gamer_id %}-->
<!--                <td class="icon icon-cup d-flex"></td>-->
<!--                {% endif %}-->
<!--                {% if user.15 == best_veg_id %}-->
<!--                <td class="icon icon-veg d-flex"></td>-->
<!--                {% endif %}-->
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="m-2 p-4 border-dashed">
        <h2 class="dashboard-content-title">
            <span>Ranking Wałeczków sezon 2022 - Lokale</span>
        </h2>
        <table class="table css-serial">
            <thead>
            <tr>
                <th>Ksywka</th>
                <th>Points</th>
                <th>Wins</th>
                <th>Losses</th>
                <th>Draws</th>
                <th>Winrate</th>
                <th>Games</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            {% for user in result_local %}
            <tr>
                <td><a class="user-color" href="{% url 'user-details' user.1 %} ">{{ user.2.username }}</a></td>
                <td><strong>{{ user.3 }}</strong></td>
                <td><strong style="color: green">{{ user.4 }}</strong></td>
                <td><strong style="color: red">{{ user.5 }}</strong></td>
                <td><strong style="color: #e68a00">{{ user.6 }}</strong></td>
                <td><strong>{{ user.0|floatformat:"0" }} %</strong></td>
                <td><strong>{{ user.7 }}</strong></td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="m-2 p-4 border-dashed">
        <h2 class="dashboard-content-title">
            <span>Ranking Wałeczków sezon 2022 - Home</span>
        </h2>
        <table class="table css-serial">
            <thead>
            <tr>
                <th>Ksywka</th>
                <th>Points</th>
                <th>Wins</th>
                <th>Losses</th>
                <th>Draws</th>
                <th>Winrate</th>
                <th>Games</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            {% for user in result_home %}
            <tr>
                <td><a class="user-color" href="{% url 'user-details' user.1 %} ">{{ user.2.username }}</a></td>
                <td><strong>{{ user.3 }}</strong></td>
                <td><strong style="color: green">{{ user.4 }}</strong></td>
                <td><strong style="color: red">{{ user.5 }}</strong></td>
                <td><strong style="color: #e68a00">{{ user.6 }}</strong></td>
                <td><strong>{{ user.0|floatformat:"0" }} %</strong></td>
                <td><strong>{{ user.7 }}</strong></td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
        </div>
    </div>
    <div class="col">
        <div class="dashboard-alerts row">
            <div class="m-4 p-4 alert-item alert-info">
                <span class="font-weight-bold">Liczba graczy w rankingu: {{ no_of_users }}</span>
            </div>
            <div class="m-4 p-4 alert-item alert-light">
                <span class="font-weight-bold">Liczba gier w rankingu: {{ no_of_games }}</span>
            </div>
        </div>
    </div>
</div>


{% endblock content %}